import React, { useState, useEffect } from 'react';
import PropTypes from 'prop-types';
import styled from 'styled-components';
import { H4, P } from 'libs/commonStyles';
import { disabled } from 'libs/colors';
import { PRIVACY_FRIENDS, PRIVACY_PUBLIC, PRIVACY_PRIVATE } from 'libs/trips';

const OptionBox = styled.div`
  width: 150px;
  height: 150px;
  border-radius: 10px 10px 10px 0;
  box-shadow: 3px 3px 6px 0 rgba(0, 0, 0, 0.25);
  border: 1px solid rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 25px;
  cursor: pointer;
  position: relative;
  ${props =>
    props.isLoading &&
    `
    cursor: initial;
    path {
      fill: ${disabled};
    }
  `};
`;

const Options = styled.div`
  display: flex;
  justify-content: space-around;
  margin-top: 25px;
  margin-bottom: 50px;
`;

const Option = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 215px;
  text-align: center;
`;

const CheckIcon = (
  <svg
    style={{ position: 'absolute', top: '10px', right: '10px' }}
    width="31"
    height="31"
    viewBox="0 0 31 31"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M11.801 11.5475C11.6221 11.3571 11.4064 11.2044 11.1667 11.0985C10.927 10.9926 10.6683 10.9357 10.4059 10.9311C10.1435 10.9265 9.88294 10.9744 9.63964 11.0718C9.39633 11.1693 9.17532 11.3143 8.98978 11.4983C8.80423 11.6823 8.65796 11.9014 8.55969 12.1427C8.46142 12.3839 8.41316 12.6423 8.41778 12.9025C8.42241 13.1626 8.47984 13.4192 8.58663 13.6569C8.69343 13.8945 8.8474 14.1084 9.03938 14.2858L14.2499 19.4525C14.431 19.6327 14.6461 19.7758 14.8831 19.8734C15.12 19.971 15.3741 20.0212 15.6307 20.0212C15.8873 20.0212 16.1413 19.971 16.3783 19.8734C16.6152 19.7758 16.8304 19.6327 17.0115 19.4525L30.0378 6.5358C30.3829 6.16852 30.5708 5.68273 30.5619 5.18079C30.5529 4.67884 30.3479 4.19993 29.9899 3.84495C29.6319 3.48996 29.1489 3.28662 28.6427 3.27777C28.1365 3.26891 27.6466 3.45523 27.2762 3.79747L15.6307 15.3424L11.801 11.5475Z"
      fill="#00A566"
    />
    <path
      d="M28.9152 15.5517C28.5799 15.4837 28.2344 15.482 27.8984 15.5465C27.5624 15.611 27.2426 15.7405 26.9571 15.9277C26.6716 16.1148 26.4261 16.3558 26.2346 16.6371C26.0431 16.9183 25.9093 17.2342 25.841 17.5667C25.4285 19.5689 24.4265 21.4049 22.9618 22.8425C21.4971 24.2801 19.6354 25.2547 17.612 25.6433C15.5887 26.0318 13.4947 25.8167 11.5946 25.0252C9.69456 24.2337 8.07385 22.9013 6.9374 21.1965C5.80095 19.4918 5.19978 17.4911 5.20992 15.4476C5.22005 13.404 5.84103 11.4094 6.99434 9.71574C8.14764 8.02213 9.78149 6.70563 11.6893 5.9327C13.5971 5.15976 15.6932 4.96511 17.7126 5.37334C18.3901 5.51036 19.0947 5.37492 19.6715 4.99679C20.2482 4.61866 20.6499 4.02883 20.7881 3.35704C20.9263 2.68526 20.7897 1.98656 20.4083 1.41464C20.027 0.842729 19.4322 0.444449 18.7547 0.30742C17.7254 0.102288 16.6782 -0.000692547 15.6284 3.50486e-06C12.6708 0.000602088 9.77406 0.833189 7.27463 2.40106C4.77519 3.96894 2.77563 6.20776 1.50816 8.8575C0.240691 11.5072 -0.242661 14.4592 0.11424 17.3704C0.47114 20.2817 1.65365 23.0328 3.52442 25.3043C5.39519 27.5757 7.87746 29.2743 10.6829 30.2028C13.4884 31.1312 16.5019 31.2514 19.3735 30.5493C22.2451 29.8473 24.8569 28.3518 26.9056 26.2367C28.9543 24.1215 30.3558 21.4734 30.9473 18.6C31.0158 18.2675 31.0175 17.9249 30.9525 17.5918C30.8874 17.2586 30.7568 16.9415 30.5681 16.6584C30.3794 16.3753 30.1363 16.1319 29.8527 15.942C29.5691 15.7521 29.2505 15.6195 28.9152 15.5517Z"
      fill="#ECECEC"
    />
  </svg>
);

const OptionSelector = ({ trip, onSelect, optionSelected }) => {
  return (
    <Options>
      <Option>
        <OptionBox onClick={() => onSelect(PRIVACY_PRIVATE)} isLoading={!trip}>
          {optionSelected === PRIVACY_PRIVATE && CheckIcon}
          <svg
            width="70"
            height="70"
            viewBox="0 0 70 70"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M35 18.9583C39.8325 18.9583 43.75 15.0408 43.75 10.2083C43.75 5.37582 39.8325 1.45831 35 1.45831C30.1675 1.45831 26.25 5.37582 26.25 10.2083C26.25 15.0408 30.1675 18.9583 35 18.9583Z"
              fill="#C68560"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M29.167 21.875C24.334 21.875 20.416 25.7805 20.416 30.6299V43.7487C20.416 44.5548 20.9967 45.4987 21.7106 45.8556L26.2493 48.125L27.7135 67.2044C27.7762 67.9613 28.4062 68.5417 29.166 68.5417H40.8327C41.5925 68.5417 42.2225 67.9613 42.2852 67.2044L43.6575 47.8275L48.2382 45.8027C48.9807 45.4744 49.5827 44.5599 49.5827 43.7487V30.6299C49.5827 25.7947 45.6794 21.875 40.8317 21.875H29.167Z"
              fill="#097DA8"
            />
          </svg>
        </OptionBox>
        <H4>Private</H4>
        <P style={{ marginTop: '10px' }}>I don't want to share my trip</P>
      </Option>
      <Option>
        <OptionBox onClick={() => onSelect(PRIVACY_FRIENDS)} isLoading={!trip}>
          {optionSelected === PRIVACY_FRIENDS && CheckIcon}
          <svg
            width="70"
            height="70"
            viewBox="0 0 70 70"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M56.8752 21.875C60.9022 21.875 64.1668 18.6104 64.1668 14.5833C64.1668 10.5562 60.9022 7.29163 56.8752 7.29163C52.8481 7.29163 49.5835 10.5562 49.5835 14.5833C49.5835 18.6104 52.8481 21.875 56.8752 21.875Z"
              fill="#C68560"
            />
            <path
              d="M13.1252 21.875C17.1522 21.875 20.4168 18.6104 20.4168 14.5833C20.4168 10.5562 17.1522 7.29163 13.1252 7.29163C9.09809 7.29163 5.8335 10.5562 5.8335 14.5833C5.8335 18.6104 9.09809 21.875 13.1252 21.875Z"
              fill="#C68560"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M52.4953 24.7916C48.4709 24.7916 45.2085 28.0431 45.2085 32.0888V41.9936C45.2085 42.8025 45.8168 43.7016 46.5688 44.0024L49.5835 45.2083L50.92 61.2464C50.9873 62.0538 51.7025 62.7083 52.4958 62.7083H61.2545C62.0575 62.7083 62.7639 62.0436 62.8303 61.2464L64.1668 45.2083L67.1576 44.2114C67.9221 43.9565 68.5418 43.0974 68.5418 42.2938V32.0943C68.5418 28.0611 65.2729 24.7916 61.255 24.7916H52.4953Z"
              fill="#D9756E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8.74533 24.7916C4.72092 24.7916 1.4585 28.0431 1.4585 32.0888V41.9936C1.4585 42.8025 2.06682 43.7016 2.81879 44.0024L5.8335 45.2083L7.17 61.2464C7.23728 62.0538 7.95251 62.7083 8.74583 62.7083H17.5045C18.3075 62.7083 19.0139 62.0436 19.0803 61.2464L20.4168 45.2083L23.4076 44.2114C24.1721 43.9565 24.7918 43.0974 24.7918 42.2938V32.0943C24.7918 28.0611 21.5229 24.7916 17.505 24.7916H8.74533Z"
              fill="#D9756E"
            />
            <path
              d="M35 18.9583C39.8325 18.9583 43.75 15.0408 43.75 10.2083C43.75 5.37582 39.8325 1.45831 35 1.45831C30.1675 1.45831 26.25 5.37582 26.25 10.2083C26.25 15.0408 30.1675 18.9583 35 18.9583Z"
              fill="#C68560"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M29.168 21.875C24.3349 21.875 20.417 25.7805 20.417 30.6299V43.7487C20.417 44.5548 20.9976 45.4987 21.7116 45.8556L26.2503 48.125L27.7145 67.2044C27.7772 67.9613 28.4072 68.5417 29.167 68.5417H40.8337C41.5934 68.5417 42.2234 67.9613 42.2862 67.2044L43.6584 47.8275L48.2391 45.8027C48.9817 45.4744 49.5837 44.5599 49.5837 43.7487V30.6299C49.5837 25.7947 45.6804 21.875 40.8327 21.875H29.168Z"
              fill="#097DA8"
            />
          </svg>
        </OptionBox>
        <H4>Friends & Family</H4>
        <P style={{ marginTop: '10px' }}>Weâ€™ll give you a link that you can share with them</P>
      </Option>
      <Option>
        <OptionBox onClick={() => onSelect(PRIVACY_PUBLIC)} isLoading={!trip}>
          {optionSelected === PRIVACY_PUBLIC && CheckIcon}
          <svg
            width="112"
            height="68"
            viewBox="0 0 112 68"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M106.667 13.5833C106.667 17.3342 103.627 20.375 99.8757 20.375C96.1247 20.375 93.084 17.3342 93.084 13.5833C93.084 9.83236 96.1247 6.79163 99.8757 6.79163C103.627 6.79163 106.667 9.83236 106.667 13.5833Z"
              fill="#C68560"
              stroke="#E0E0E0"
            />
            <path
              d="M93.0823 44.1668L93.0566 43.8588L92.7697 43.7441L89.755 42.5382C89.49 42.4322 89.2233 42.2068 89.0212 41.9083C88.819 41.6096 88.709 41.2785 88.709 40.9936V31.0888C88.709 27.3193 91.7475 24.2916 95.4958 24.2916H104.255C107.996 24.2916 111.042 27.3365 111.042 31.0943V41.2938C111.042 41.5716 110.933 41.8871 110.731 42.1658C110.53 42.4443 110.265 42.6487 110 42.737L107.009 43.7339L106.696 43.8382L106.669 44.1668L105.333 60.2048C105.287 60.7487 104.792 61.2083 104.255 61.2083H95.4963C94.9648 61.2083 94.4646 60.7549 94.4188 60.2048L93.0823 44.1668Z"
              fill="#D9756E"
              stroke="#E0E0E0"
            />
            <path
              d="M62.6663 13.5833C62.6663 17.3342 59.6256 20.375 55.8747 20.375C52.1237 20.375 49.083 17.3342 49.083 13.5833C49.083 9.83236 52.1237 6.79163 55.8747 6.79163C59.6256 6.79163 62.6663 9.83236 62.6663 13.5833Z"
              fill="#C68560"
              stroke="#E0E0E0"
            />
            <path
              d="M49.0813 44.1668L49.0556 43.8588L48.7687 43.7441L45.754 42.5382C45.489 42.4322 45.2223 42.2068 45.0202 41.9083C44.8181 41.6096 44.708 41.2785 44.708 40.9936V31.0888C44.708 27.3193 47.7466 24.2916 51.4948 24.2916H60.2545C63.9955 24.2916 67.0413 27.3365 67.0413 31.0943V41.2938C67.0413 41.5716 66.9316 41.8871 66.7305 42.1658C66.5294 42.4443 66.2641 42.6487 65.999 42.737L63.0082 43.7339L62.6955 43.8382L62.6681 44.1668L61.3316 60.2048C61.2862 60.7487 60.7913 61.2083 60.254 61.2083H51.4953C50.9639 61.2083 50.4636 60.7549 50.4178 60.2048L49.0813 44.1668Z"
              fill="#D9756E"
              stroke="#E0E0E0"
            />
            <path
              d="M18.9163 13.5833C18.9163 17.3342 15.8756 20.375 12.1247 20.375C8.37374 20.375 5.33301 17.3342 5.33301 13.5833C5.33301 9.83236 8.37374 6.79163 12.1247 6.79163C15.8756 6.79163 18.9163 9.83236 18.9163 13.5833Z"
              fill="#C68560"
              stroke="#E0E0E0"
            />
            <path
              d="M5.33128 44.1668L5.30562 43.8588L5.0187 43.7441L2.004 42.5382C1.73897 42.4322 1.47235 42.2068 1.27021 41.9083C1.06807 41.6096 0.958008 41.2785 0.958008 40.9936V31.0888C0.958008 27.3193 3.99655 24.2916 7.74484 24.2916H16.5045C20.2455 24.2916 23.2913 27.3365 23.2913 31.0943V41.2938C23.2913 41.5716 23.1816 41.8871 22.9805 42.1658C22.7794 42.4443 22.5141 42.6487 22.2489 42.737L19.2582 43.7339L18.9454 43.8382L18.9181 44.1668L17.5816 60.2048C17.5362 60.7487 17.0413 61.2083 16.504 61.2083H7.74534C7.21385 61.2083 6.71362 60.7549 6.66779 60.2048L5.33128 44.1668Z"
              fill="#D9756E"
              stroke="#E0E0E0"
            />
            <path
              d="M42.25 9.20831C42.25 13.7647 38.5563 17.4583 34 17.4583C29.4437 17.4583 25.75 13.7647 25.75 9.20831C25.75 4.65196 29.4437 0.958313 34 0.958313C38.5563 0.958313 42.25 4.65196 42.25 9.20831Z"
              fill="#C68560"
              stroke="#E0E0E0"
            />
            <path
              d="M25.7479 47.0867L25.7262 46.8044L25.473 46.6778L20.9342 44.4084C20.6795 44.281 20.4194 44.0307 20.2215 43.7088C20.0238 43.3871 19.916 43.0392 19.916 42.7487V29.6299C19.916 25.0569 23.6098 21.375 28.167 21.375H39.8317C44.4025 21.375 48.0827 25.0701 48.0827 29.6299V42.7487C48.0827 43.0369 47.9728 43.3745 47.7708 43.6826C47.5688 43.9907 47.3017 44.2279 47.036 44.3454L42.4553 46.3702L42.18 46.4919L42.1587 46.7922L40.7869 66.1631C40.7868 66.164 40.7867 66.1648 40.7867 66.1657C40.7442 66.6622 40.3313 67.0417 39.8327 67.0417H28.166C27.667 67.0417 27.2538 66.6616 27.2119 66.1645C27.2119 66.164 27.2118 66.1635 27.2118 66.1631L25.7479 47.0867Z"
              fill="#097DA8"
              stroke="#E0E0E0"
            />
            <path
              d="M86.25 9.20831C86.25 13.7647 82.5563 17.4583 78 17.4583C73.4437 17.4583 69.75 13.7647 69.75 9.20831C69.75 4.65196 73.4437 0.958313 78 0.958313C82.5563 0.958313 86.25 4.65196 86.25 9.20831Z"
              fill="#C68560"
              stroke="#E0E0E0"
            />
            <path
              d="M69.7489 47.0867L69.7272 46.8044L69.4739 46.6778L64.9352 44.4084C64.6804 44.281 64.4204 44.0307 64.2225 43.7088C64.0248 43.3871 63.917 43.0392 63.917 42.7487V29.6299C63.917 25.0569 67.6108 21.375 72.168 21.375H83.8327C88.4035 21.375 92.0837 25.0701 92.0837 29.6299V42.7487C92.0837 43.0369 91.9738 43.3745 91.7717 43.6826C91.5697 43.9907 91.3027 44.2279 91.037 44.3454L86.4563 46.3702L86.181 46.4919L86.1597 46.7922L84.7879 66.1631C84.7878 66.164 84.7877 66.1648 84.7876 66.1657C84.7452 66.6622 84.3323 67.0417 83.8337 67.0417H72.167C71.6679 67.0417 71.2548 66.6616 71.2129 66.1645C71.2129 66.164 71.2128 66.1635 71.2128 66.1631L69.7489 47.0867Z"
              fill="#097DA8"
              stroke="#E0E0E0"
            />
          </svg>
        </OptionBox>
        <H4>Public</H4>
        <P style={{ marginTop: '10px' }}>Publish your trip on deens.com</P>
      </Option>
    </Options>
  );
};

OptionSelector.propTypes = {
  trip: PropTypes.object,
};

export default OptionSelector;
